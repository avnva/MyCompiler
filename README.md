**Текстовый редактор MyCompiler**
Разработка текстового редактора с функциями языкового процессора.
**Язык реализации:** C#, WPF.

## Оглавление

- [Лабораторная работа №1: Разработка пользовательского интерфейса (GUI) для языкового процессора](#лабораторная-работа-1-разработка-пользовательского-интерфейса-gui-для-языкового-процессора)
- [Лабораторная работа №2: Разработка лексического анализатора (сканера)](#лабораторная-работа-2-разработка-лексического-анализатора-сканера)
- [Лабораторная работа №3: Разработка синтаксического анализатора (парсера)](#лабораторная-работа-3-разработка-синтаксического-анализатора-парсера)
- [Лабораторная работа №4: Нейтрализация ошибок (метод Айронса)](#лабораторная-работа-4-нейтрализация-ошибок-метод-айронса)
- [Лабораторная работа №5: Включение семантики в анализатор. Создание внутренней формы представления программы](#лабораторная-работа-5-включение-семантики-в-анализатор-создание-внутренней-формы-представления-программы)
- [Лабораторная работа №6: Реализация алгоритма поиска подстрок с помощью регулярных выражений](#лабораторная-работа-6-реализация-алгоритма-поиска-подстрок-с-помощью-регулярных-выражений)
- [Лабораторная работа №7: Реализация метода рекурсивного спуска для синтаксического анализа](#лабораторная-работа-7-реализация-метода-рекурсивного-спуска-для-синтаксического-анализа)

## Лабораторная работа №1: Разработка пользовательского интерфейса (GUI) для языкового процессора
**Тема:** разработка текстового редактора с возможностью дальнейшего расширения функционала до языкового процессора.

**Цель работы:** разработать приложение с графическим интерфейсом пользователя, способное редактировать текстовые данные. Это приложение будет базой для будущего расширения функционала в виде языкового процессора.

### Интерфейс текстового редактора

![Главное окно программы](/README_images/main_window.png)

#### Получившийся текстовый редактор имеет следующие элементы:
1. Заголовок окна.

   Содержит информацию о названии открытого файла, полного пути к нему, а также о том, сохранен ли он на текущий момент (наличие символа * справа от названия означает наличие несохраненных изменений).
3. Меню
   | Пункт меню | Подпункты |
   | ------ | ------ |
   | Файл | ![Главное окно программы](/README_images/menu_file.png) |
   | Правка | ![Правка](/README_images/menu_edit.png) |
   | Текст | ![Текст](/README_images/menu_text.png) |
   | Пуск | — |
   | Справка | ![Справка](/README_images/menu_help.png) |
4. Панель инструментов
   
   ![Панель инструментов](/README_images/toolbar.png)

   - Создать
   - Открыть
   - Сохранить
   - Отменить
   - Повторить
   - Копировать
   - Вырезать
   - Вставить
   - Пуск
   - Вызов справки
   - О программе
5. Область редактирования
   
   Поддерживаются следующие функции:
   - Открытие файла при перетаскивании его в окно программы
   - Базовая подсветка синтаксиса
   - Нумерация строк
7. Область отображения результатов

   В область отображения результатов выводятся сообщения и результаты работы языкового процессора.

8. Строка состояния

   В дополнении к информации, выводимой в заголовке окна, показываются текушие номера строки и столбца, где находится курсор.

### Справочная система

Разделы справочной системы открываются как HTML-документы в браузере.

| Раздел | Изображение |
| ------ | ------ |
| Вызов справки | <img src="/README_images/help_click.png" alt="Вызов справки" width="500"> |
| О программе | <img src="/README_images/about_click.png" alt="О программе" width="500"> |

### Вывод сообщений

| Сообщение | Описание | Изображение |
| ------ | ------| ------ |
| Закрытие окна программы | Появляется при закрытии программы нажатием крестика или комбинацией клавиш при наличии несохраненных изменений | ![Закрытие окна программы](/README_images/exit_message.png) |
| Сохранение изменений | Появляется при попытке открыть существующий файл или создать новый при наличии несохраненных изменений | ![Сохранение изменений](/README_images/unsaved_changes_message.png) |


## Лабораторная работа №2: Разработка лексического анализатора (сканера)

**Тема:** разработка лексического анализатора (сканера).

**Цель работы:** изучить назначение лексического анализатора. Спроектировать алгоритм и выполнить программную реализацию сканера.

| № | Тема | Пример верной строки | Справка |
| ------ | ------ | ------ | ------ |
| 53 | Лямбда-выражения языка Python | sum = lambda a, b: a + b | [ссылка](https://metanit.com/python/tutorial/2.18.php) |

**Задачи:**

1. Спроектировать диаграмму состояний сканера.
2. Разработать лексический анализатор, позволяющий выделить в тексте лексемы, иные символы считать недопустимыми (выводить ошибку).
3. Встроить сканер в ранее разработанный интерфейс текстового редактора. Учесть, что текст для разбора может состоять из множества строк.

**Входные данные:** строка (текст программного кода).

**Выходные данные:** последовательность условных кодов, описывающих структуру разбираемого текста с указанием места положения и типа.

### Примеры допустимых строк

```python
sum = lambda a,b : a + b
```

```python
div = lambda a,b,c: (a+b-c) / 10.66;
```

```python
m = lambda a,b: (a*b)+10;
```

### Диаграмма состояний сканера

![Диаграмма состояний сканера](/README_images/scanner_diagram.jpg)

### Тестовые примеры

1. **Тест №1.** Пример, показывающий все возможные лексемы, которые могут быть найдены лексическим анализатором.
   
   ![Тест 1](/README_images/scanner_test_1.png)
2. **Тест №2.** Сложный пример.

   > При нажатии на лексему в таблице, соответствующий фрагмент текста подсвечивается в поле редактирования.
  
   ![Тест 2](/README_images/scanner_test_2.png)
3. **Тест №3.** Ошибочный.

   ![Тест 3](/README_images/scanner_test_3.png)


## Лабораторная работа №3: Разработка синтаксического анализатора (парсера)

**Тема:** разработка синтаксического анализатора (парсера).

**Цель работы:** изучить назначение синтаксического анализатора, спроектировать алгоритм и выполнить программную реализацию парсера.

| № | Тема | Пример верной строки | Справка |
| ------ | ------ | ------ | ------ |
| 53 | Лямбда-выражения языка Python | sum = lambda a, b: a + b; | [ссылка](https://metanit.com/python/tutorial/2.18.php) |

[Примеры допустимых строк](#примеры-допустимых-строк)

**Задачи:**
1. Разработать автоматную грамматику.
2. Спроектировать граф конечного автомата (перейти от автоматной грамматики к конечному автомату).
3. Выполнить программную реализацию алгоритма работы конечного автомата.
4. Встроить разработанную программу в интерфейс текстового редактора, созданного на первой лабораторной работе.

### Грамматика

G[&lt;ЛВ&gt; = &lt;лямбда выражение&gt;]:

V<sub>T</sub> = { ‘lambda’, ‘ ‘ }<br>

V<sub>N</sub> = { &lt;ЛВ&gt;, Б, <ИД>, <Л>, <ПРОБЕЛ>, <АРГУМ>, <ИМЯАРГУМЕНТА>, <ФУНКЦ>, <ИМЯОПЕРАТОРА1>, <ИМЯОПЕРАТОРА2>, <ИМЯОПЕРАТОРА2ОСТ>}<br>

P = {
1. <ЛВ>->Б<ИД>
2. <ИД>-> Б<ИД>|'='<Л>
3. <Л>-> 'lambda'<ПРОБЕЛ>
4. <ПРОБЕЛ>->' '<АРГУМ>|':'<ФУНКЦ>
5. <АРГУМ>-> Б<ИМЯАРГУМЕНТА>
6. <ИМЯАРГУМЕНТА>-> Б<ИМЯАРГУМЕНТА> |','<АРГУМ>|':'<ФУНКЦ>
7. <ФУНКЦ>-> Б<ИМЯОПЕРАТОРА1>
8. <ИМЯОПЕРАТОРА1>-> Б<ИМЯОПЕРАТОРА1>|(+|-|*|/)<ИМЯОПЕРАТОРА2>
9. <ИМЯОПЕРАТОРА2>-> Б<ИМЯОПЕРАТОРА2ОСТ>
10. <ИМЯОПЕРАТОРА2ОСТ>-> Б<ИМЯОПЕРАТОРА2ОСТ>|';'

}

### Классификация грамматики

   Согласно классификации Хомского, грамматика G[Z] является полностью автоматной.

### Граф конечного автомата

![Граф конечного автомата](/README_images/finite_state_machine.jpg)

### Тестовые примеры

1. **Тест №1.** Все верно.
   
   ![Тест 1](/README_images/main_window_new.png)
2. **Тест №2.** Ошибка.

   > - Нажатие кнопки справа от количества ошибок позволяет их автоматически исправить.
  
   ![Тест 2](/README_images/parser_test_2.png)
3. **Тест №3.** Ошибка после нажатия на кнопку.

  
   ![Тест 3](/README_images/parser_test_1.png)



## Лабораторная работа №4: Нейтрализация ошибок (метод Айронса)

**Тема**: нейтрализация ошибок (метод Айронса).

**Цель работы:** реализовать алгоритм нейтрализации синтаксических ошибок и дополнить им программную реализацию парсера.

### Метод Айронса

Cинтаксический анализатор построен на базе автоматной грамматики. При нахождении лексемы, которая не соответствует грамматике, предлагается свести алгоритм нейтрализации к последовательному удалению следующего символа во входной цепочке до тех пор, пока следующий символ не окажется одним из допустимых в данный момент разбора.

### Тестовые примеры

1. **Тест №1.** Пример с ошибками.

   > - Нажатие кнопки справа от количества ошибок позволяет их автоматически исправить.
  
   ![Тест 2](/README_images/parser_test_2.png)
2. **Тест №2.** Пример с ошибками после исправления.

   ![Тест 3](/README_images/parser_test_1.png)


## Лабораторная работа №5: Включение семантики в анализатор. Создание внутренней формы представления программы

**Тема:** включение семантики в анализатор, создание внутренней формы представления программы, используя польскую инверсную запись (ПОЛИЗ).

**Цель работы:** Дополнить грамматику, разрабатываемую в рамках курсовой работы, продукциями из грамматики G[<АВ>]. Реализовать парсер для дополненной грамматики

### Тестовые примеры

1. **Тест №1.** Перевод выражения в польскую нотацию.
   
   ![Тест 1](/README_images/postfix_test_1.png)
2. **Тест №2.** Обработка отсутствия операндов и несоответствия.

   ![Тест 2](/README_images/postfix_test_2.png)
3. **Тест №3.** Обработка недопустимых символов.

   ![Тест 3](/README_images/postfix_test_3.png)


## Лабораторная работа №6: Реализация алгоритма поиска подстрок с помощью регулярных выражений

**Тема:** реализация алгоритма поиска подстрок с помощью регулярных выражений.

**Цель работы:** реализовать алгоритм поиска в тексте подстрок, соответствующих заданным регулярным выражениям.

## Задачи

1. (I.19) Построить РВ, описывающее время в формате HH:MM:SS

```
(?:[01]\d|2[0-3]):(?:[0-5]\d):(?:[0-5]\d)
```

![Тест](/README_images/reg_test_1.png)

2. (II.4) Построить РВ для валидации российских номеров мобильных телефонов (начинаются с цифры 8 символов +7, далее зоновый код в скобках или без и номер абонента, номер абонента может быть разделен пробелами или символами -).

```
(?:\+7|8)\s?\(?\d{3}\)?[-\s]?\d{3}[-\s]?\d{2}[-\s]?\d{2}
```

![Тест](/README_images/reg_test_2.png)

3. (III.14) Построить РВ для проверки надежности пароля. Требования к надежности пароля: Имеет длину не менее 8 символов. Хотя бы одна заглавная русская буква. Хотя бы одна строчная русская буква. Хотя бы одна цифра. Хотя бы один специальный символ из списка: #?!|/@/$%\^&*-_.

```
(?=.*[а-я])(?=.*[А-Я])(?=.*\d)(?=.*[#\?!@\$%\^&\*_\-])[^\s]{8,}
```

![Тест](/README_images/reg_test_3.png)


## Лабораторная работа №7: Реализация метода рекурсивного спуска для синтаксического анализа

**Тема:** реализация метода рекурсивного спуска для синтаксического анализа.

**Цель работы:** разработать для грамматики алгоритм синтаксического анализа на основе метода рекурсивного спуска.

Для грамматики G[&lt;AO&gt;] разработать и реализовать алгоритм анализа на основе метода рекурсивного спуска.

G[&lt;AO&gt;]:
1. &lt;AO&gt; → &lt;ID&gt; = &lt;AB&gt;;
2. &lt;AB&gt; → T | T + &lt;AB&gt;
3. T → O | O * T
4. O → (- | ℰ )[&lt;ID&gt; | &lt;FLOAT&gt; | (&lt;AB&gt;)]
5. &lt;ID&gt; → Б{ Б | Ц }
6. &lt;FLOAT&gt; → Ч(.Ч | ℰ)
Б → a | b |…| z | A | B | …| Z
Ц → 0 | 1 |…| 9
Ч → Ц{Ц}
ℰ → пустой символ

> Примечание: Эта грамматика описывает арифметический оператор присваивания в языке BASIC.
По классификации Хомского данная грамматика относится к КС.

### Тестовые примеры

```lua
sum = a+b;
d = 4.5*(a+c);
f = -a+45;
```

![Тест 1](/README_images/recursion_test_1.png)
